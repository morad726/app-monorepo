"use strict";(self.webpackChunkweb=self.webpackChunkweb||[]).push([[72422],{304695:(e,t,r)=>{r.d(t,{V:()=>NetworksFilterItem});var n=r(324586),o=r(839850),c=r(490343),s=r(831085),a=["networkImageUri","networkName","isSelected","tooltipContent","disabled"];function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach((function(t){(0,n.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function NetworksFilterItem(e){var{networkImageUri:t,networkName:r,isSelected:n,tooltipContent:i,disabled:u}=e,d=(0,o.A)(e,a),l=(0,s.jsxs)(c.XStack,_objectSpread(_objectSpread(_objectSpread(_objectSpread({justifyContent:"center",px:"$3",py:"$1.5",bg:n?"$bgPrimary":"$bgStrong",borderRadius:"$2",userSelect:"none",borderCurve:"continuous"},!n&&!u&&{focusable:!0,hoverStyle:{bg:"$bgStrongHover"},pressStyle:{bg:"$bgStrongActive"},focusStyle:{outlineWidth:2,outlineStyle:"solid",outlineColor:"$focusRing"}}),u&&{opacity:.5}),d),{},{children:[t?(0,s.jsx)(c.Image,{height:"$6",width:"$6",borderRadius:"$full",$gtMd:{height:"$5",width:"$5"},children:(0,s.jsx)(c.Image.Source,{source:{uri:t}})}):null,r?(0,s.jsx)(c.SizableText,{numberOfLines:1,color:n?"$textOnColor":"$textSubdued",size:"$bodyLgMedium",$gtMd:{size:"$bodyMdMedium"},children:r}):null]}));return i?(0,s.jsx)(c.Tooltip,{renderContent:i,placement:"top",renderTrigger:l}):l}},771821:(e,t,r)=>{r.d(t,{v:()=>TokenListItem});var n=r(324586),o=r(839850),c=r(490343),s=r(791088),a=r(491180),i=r(391944),u=r(831085),d=["tokenImageSrc","networkImageSrc","tokenName","isSearch","tokenSymbol","tokenContrastAddress","balance","valueProps","disabled","titleMatchStr"];function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach((function(t){(0,n.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function TokenListItem(e){var t,{tokenImageSrc:r,networkImageSrc:n,tokenName:l,isSearch:f,tokenSymbol:p,tokenContrastAddress:w,balance:k,valueProps:b,disabled:m,titleMatchStr:y}=e,g=(0,o.A)(e,d);return(0,u.jsxs)(s.c,_objectSpread(_objectSpread(_objectSpread(_objectSpread({userSelect:"none"},m&&{opacity:.5}),f&&{$md:{alignItems:"flex-start"}}),g),{},{children:[(0,u.jsx)(i.o,{tokenImageUri:r,networkImageUri:n}),(0,u.jsx)(s.c.Text,{flex:1,primary:p,primaryMatch:y,primaryTextProps:{numberOfLines:1},secondary:f?(0,u.jsxs)(c.Stack,{space:"$0.5",$gtMd:{flexDirection:"row",space:"$1"},children:[(0,u.jsx)(c.SizableText,{numberOfLines:1,color:"$textSubdued",size:"$bodyMd",children:l}),(0,u.jsx)(c.SizableText,{color:"$textDisabled",size:"$bodyMd",children:a.A.shortenAddress({address:w,leadingLength:8,trailingLength:6})})]}):null!=l?l:""}),(0,u.jsx)(s.c.Text,{align:"right",primary:(0,u.jsx)(c.NumberSizeableText,{textAlign:"right",color:"$text",formatter:"balance",size:"$bodyLgMedium",children:k}),secondary:b?.value?(0,u.jsx)(c.NumberSizeableText,{textAlign:"right",size:"$bodyMd",formatter:"value",color:"$textSubdued",formatterOptions:{currency:null!=(t=b?.currency)?t:"$"},children:b.value}):null})]}))}},82506:(e,t,r)=>{r.d(t,{d:()=>useDebounce});var n=r(578104);function useDebounce(e,t,r){var[o]=(0,n.d7)(e,t,r);return o}},20322:(e,t,r)=>{r.d(t,{j:()=>useSwapFromAccountNetworkSync,z:()=>useSwapAddressInfo});var n=r(324586),o=r(586330),c=r(712784),s=r.n(c),a=r(514041),i=r(490343),u=r(153763),d=r(604343),l=r(757559),f=r(619390),p=r(317522),w=r(162616),k=r(325529);function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach((function(t){(0,n.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function useSwapFromAccountNetworkSync(){var{updateSelectedAccountNetwork:e}=(0,w.z$)().current,[t]=(0,k.NE)(),{activeAccount:r}=(0,w.LH)({num:1}),[n,c]=(0,k.rv)(),[f]=(0,k.dF)(),[,b]=(0,d.useSettingsAtom)(),[m]=(0,k.Q8)(),y=(0,a.useRef)(),g=(0,a.useRef)(),S=(0,a.useRef)(),I=(0,a.useRef)(n),j=(0,a.useRef)(r);j.current!==r&&(j.current=r),y.current!==t&&(y.current=t),g.current!==m&&(g.current=m),I.current!==n&&(I.current=n),S.current!==f&&(S.current=f);var h,O=(0,a.useCallback)(s()((0,o.A)((function*(){y.current&&(yield e({num:0,networkId:y.current?.networkId})),g.current&&(yield e({num:1,networkId:g.current?.networkId})),y.current&&g.current&&(I.current?.networkId&&g.current?.networkId!==I.current?.networkId||!I.current?.networkId&&!j.current?.account&&j.current?.wallet||!1===S.current)&&(b((function(e){return _objectSpread(_objectSpread({},e),{},{swapToAnotherAccountSwitchOn:!1})})),c((function(e){return _objectSpread(_objectSpread({},e),{},{address:void 0})})),setTimeout((function(){g.current&&e({num:1,networkId:g.current?.networkId})}),500))})),100),[b,e]),v=(0,i.usePageType)();(0,p.A)(l.V4.Swap,(h=(0,o.A)((function*(e,t){if(v!==i.EPageType.modal){if(t)return;e&&(yield O())}})),function(e,t){return h.apply(this,arguments)})),(0,a.useEffect)((function(){v!==i.EPageType.modal&&(0,o.A)((function*(){yield O()}))()}),[O,t,m,f,v]);var A=(0,u.E)();(0,a.useEffect)((function(){v===i.EPageType.modal&&A&&(0,o.A)((function*(){yield O()}))()}),[O,A,v,t,m,f])}function useSwapAddressInfo(e){var{activeAccount:t}=(0,w.LH)({num:e===f.En.FROM?0:1}),[{swapToAnotherAccountSwitchOn:r}]=(0,d.useSettingsAtom)(),[n]=(0,k.rv)();return(0,a.useMemo)((function(){var o={networkId:void 0,address:void 0,accountInfo:void 0};return e===f.En.TO&&r&&n.address&&n.networkId&&t&&t.network?.id===n.networkId?_objectSpread(_objectSpread({},o),{},{address:n.address,networkId:n.networkId,accountInfo:n.accountInfo}):t?_objectSpread(_objectSpread({},o),{},{address:t.account?.address,networkId:t.network?.id,accountInfo:_objectSpread({},t)}):o}),[e,r,n,t])}},866063:(e,t,r)=>{r.d(t,{FI:()=>useSwapInit,GM:()=>useSwapTokenList,ZF:()=>useSwapSelectedTokenInfo});var n=r(503668),o=r.n(n),c=r(324586),s=r(586330),a=r(514041),i=r(490343),u=r(153763),d=r(604343),l=r(557503),f=r(22937),p=r(757559),w=r(58546),k=r(619390),b=r(60153),m=r(317522),y=r(162616),g=r(325529),S=r(20322);function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach((function(t){(0,c.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function useSwapInit(e){var[t,r]=(0,g.ZM)(),[n,c]=(0,g.NE)(),[i,u]=(0,g.Q8)(),[,d]=(0,g.tb)(),f=(0,S.z)(k.En.FROM),{updateSelectedAccountNetwork:p}=(0,y.z$)().current,[m,I]=(0,a.useState)(!0),j=(0,a.useRef)();j.current!==f&&(j.current=f);var h=(0,a.useRef)([]);h.current!==t&&(h.current=t);var O=(0,a.useRef)();O.current!==n&&(O.current=n);var v=(0,a.useRef)();v.current!==i&&(v.current=i);var A=(0,a.useCallback)((0,s.A)((function*(){if(t.length)I(!1);else{var e=yield b.A.simpleDb.swapNetworksSort.getRawData();e?.data?.length&&(r(e.data),I(!1));var n=[],o=yield b.A.serviceSwap.fetchSwapNetworks();if(n=[...o],e?.data?.length&&o?.length){var c=e.data;n=c.filter((function(e){return o.find((function(t){return t.networkId===e.networkId}))})).map((function(e){var t=o.find((function(t){return t.networkId===e.networkId}));return _objectSpread(_objectSpread({},e),t)})).concat(o.filter((function(e){return!c.find((function(t){return t.networkId===e.networkId}))})))}n.length&&(yield b.A.simpleDb.swapNetworksSort.setRawData({data:n}),e?.data?.length&&e?.data?.length===n.length||(r(n),I(!1)))}})),[r,t.length]),x=(0,a.useCallback)((0,s.A)((function*(){if(e?.importFromToken&&h.current.find((function(t){return t.networkId===e?.importFromToken?.networkId}))||e?.importToToken&&h.current.find((function(t){return t.networkId===e?.importFromToken?.networkId})))return c(e.importFromToken),void u(e.importToToken);if(!(!j.current?.accountInfo?.ready||!j.current?.networkId||!h.current.length||e?.importNetworkId&&j.current?.networkId&&e?.importNetworkId!==j.current?.networkId||O.current||v.current)){var t=h.current.find((function(e){return e.networkId===j.current?.networkId})),r=j.current?.networkId===l.Tc.id,n=t,s=t?.networkId;if(r&&(s=l.Tc.id,n=h.current.find((function(e){return"evm--1"===e.networkId}))),n&&s&&(!o()(w.TW[s]?.fromToken)||!o()(w.TW[s]?.toToken))){var a=w.TW[s]?.fromToken,i=w.TW[s]?.toToken;a&&c(_objectSpread(_objectSpread({},a),{},{networkLogoURI:n?.logoURI})),i&&u(_objectSpread(_objectSpread({},i),{},{networkLogoURI:n?.logoURI}))}}})),[e?.importFromToken,e?.importNetworkId,e?.importToToken,c,u]);return(0,a.useEffect)((function(){(0,s.A)((function*(){yield A()}))()}),[A,t.length]),(0,a.useEffect)((function(){(0,s.A)((function*(){var e=yield b.A.simpleDb.swapConfigs.getRawData();e?.providerSort&&d(e.providerSort)}))()}),[d]),(0,a.useEffect)((function(){(0,s.A)((function*(){e?.importNetworkId&&j.current?.networkId&&e.importNetworkId!==j.current.networkId&&(yield p({num:0,networkId:e.importNetworkId}))}))()}),[e?.importNetworkId,p]),(0,a.useEffect)((function(){(0,s.A)((function*(){yield x()}))()}),[f.accountInfo?.ready,t.length,f.networkId,e?.importFromToken,e?.importToToken,e?.importNetworkId]),{fetchLoading:m}}function useSwapTokenList(e,t,r){var[n,o]=(0,a.useState)([]),[{tokenCatch:c}]=(0,g.PQ)(),{tokenListFetchAction:s}=(0,g.eR)().current,i=(0,S.z)(e),[u]=(0,g.Hb)(),d=(0,a.useMemo)((function(){return{networkId:t,keywords:r,accountAddress:i?.address,accountNetworkId:i?.networkId,accountId:i?.accountInfo?.account?.id}}),[t,r,i?.address,i?.networkId,i?.accountInfo?.account]),l=(0,f.bJ)(c?.[JSON.stringify(d)]?.data||[],{keys:["symbol"].concat(1===(c?.[JSON.stringify(d)]?.data||[]).length?["contractAddress"]:[])}),p=(0,a.useRef)(l);return p.current!==l&&(p.current=l),(0,a.useEffect)((function(){d.accountNetworkId&&d.networkId!==d.accountNetworkId||s(d)}),[d,s]),(0,a.useEffect)((function(){d.accountNetworkId&&d.networkId!==d.accountNetworkId||(r&&p.current?o(p.current.search(r)):o(c?.[JSON.stringify(d)]?.data||[]))}),[c,d,t,r]),{fetchLoading:u&&0===n.length,currentTokens:n}}function useSwapSelectedTokenInfo({token:e,type:t}){var r=(0,S.z)(t),[n,o]=(0,a.useState)(0),[{swapHistoryPendingList:c}]=(0,d.useInAppNotificationAtom)(),{loadSwapSelectTokenDetail:s}=(0,g.eR)().current,l=(0,a.useRef)(c);l.current!==c&&(l.current=c);var f=(0,a.useRef)(n);f.current!==n&&(f.current=n);var w=(0,a.useRef)(r);w.current!==r&&(w.current=r);var b=(0,u.E)(),y=(0,a.useRef)(b);y.current!==b&&(y.current=b),(0,a.useEffect)((function(){if(y.current&&c.length){var e=c.filter((function(e){return e.status===k.lr.SUCCESS})).length;e>f.current&&(s(t,w.current,!0),o(e))}}),[s,c,t]),(0,a.useEffect)((function(){s(t,w.current)}),[t,r,e?.networkId,e?.contractAddress,s]);var I=(0,i.usePageType)();(0,m.A)(p.V4.Swap,(function(e,r){if(I!==i.EPageType.modal&&e&&!r&&l.current.length){var n=l.current.filter((function(e){return e.status===k.lr.SUCCESS})).length;n>f.current&&(s(t,w.current,!0),o(n))}}))}},309008:(e,t,r)=>{r.d(t,{o:()=>d});var n=r(324586),o=r(514041),c=r(325529),s=r(2577),a=r(597102),i=r(829561),u=r(831085);function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach((function(t){(0,n.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var d=(0,o.memo)((function(e){var{children:t,storeName:r}=e,n=(0,i.x6)(r),o=s.A.getOrCreateStore(n);return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(a.H,_objectSpread({},n)),(0,u.jsx)(c.BY,{store:o,children:t})]})}));d.displayName="SwapProviderMirror"},872422:(e,t,r)=>{r.r(t),r.d(t,{default:()=>SwapTokenSelectModal});var n=r(324586),o=r(586330),c=r(514041),s=r(724249),a=r(241440),i=r(908867),u=r(490343),d=r(60153),l=r(325809),f=r(791088),p=r(771821),w=r(498356),k=r(82506),b=r(162616),m=r(325529),y=r(604343),g=r(254491),S=r(663522),I=r(628380),j=r(491180),h=r(714191),O=r(58546),v=r(619390),A=r(885127),x=r(304695),T=r(831085);const P=(0,c.memo)((function({networks:e,selectedNetwork:t,onSelectNetwork:r,moreNetworksCount:n,onMoreNetwork:o}){return(0,T.jsxs)(u.XStack,{px:"$5",pt:"$1",pb:"$3",space:"$2",children:[e.map((function(e){var n,o,c;return(0,T.jsx)(x.V,{networkImageUri:e.logoURI,tooltipContent:null!=(n=null!=(o=null!=(c=e.name)?c:e.symbol)?o:e.shortcode)?n:"Unknown",isSelected:e?.networkId===t?.networkId,onPress:function(){r(e)}},e.networkId)})),n&&n>0?(0,T.jsx)(x.V,{networkName:`${n}+`,flex:1,onPress:o}):null]})}));var $=r(20322),N=r(866063),E=r(309008);function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach((function(t){(0,n.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var SwapTokenSelectPage=function(){var e,t,r,n=(0,w.A)(),l=(0,s.lq)(),h=(0,c.useMemo)((function(){var e;return null!=(e=l.params?.type)?e:v.En.FROM}),[l.params?.type]),x=(0,i.A)(),[E,M]=(0,c.useState)(""),R=(0,k.d)(E,500),[_]=(0,m.ZM)(),[C]=(0,m.NE)(),D=(0,$.z)(v.En.FROM),F=(0,$.z)(v.En.TO),[L]=(0,m.Q8)(),[z]=(0,y.useSettingsPersistAtom)(),{selectFromToken:U,selectToToken:K}=(0,m.eR)().current,{updateSelectedAccountNetwork:V}=(0,b.z$)().current,B=(0,c.useCallback)((function(){var e,t,r,n;return h!==v.En.FROM?L?.networkId?null!=(e=_.find((function(e){return e.networkId===L.networkId})))?e:_?.[0]:F.networkId&&null!=(t=_.find((function(e){return e.networkId===F.networkId})))?t:_?.[0]:C?.networkId?null!=(r=_.find((function(e){return e.networkId===C.networkId})))?r:_?.[0]:D.networkId?null!=(n=_.find((function(e){return e.networkId===F.networkId})))?n:_?.[0]:void 0}),[C?.networkId,D.networkId,_,F.networkId,L?.networkId,h]),[Z,H]=(0,c.useState)(B);(0,c.useEffect)((function(){var e=h===v.En.FROM?D.networkId:F.networkId;Z?.networkId&&Z?.networkId!==e&&V({num:h===v.En.FROM?0:1,networkId:Z?.networkId})}),[]);var W,Y,{fetchLoading:J,currentTokens:Q}=(0,N.GM)(h,Z?.networkId,R),X=(0,c.useMemo)((function(){return Q.findIndex((function(e){var t=e.item?e.item:e;return!t.price||new a.A(t.price).isZero()}))}),[Q]),q=(0,c.useCallback)((W=(0,o.A)((function*(e){var t=!e.price||new a.A(e.price).isZero()||e.riskLevel===v.eU.SPAM||e.riskLevel===v.eU.MALICIOUS;return t?!!z.tokenRiskReminder&&!(yield d.A.serviceSetting.checkConfirmedRiskToken(`${e.networkId}_${e.contractAddress}`)):t})),function(e){return W.apply(this,arguments)}),[z.tokenRiskReminder]),G=(0,c.useCallback)((function(e){n.popStack(),h===v.En.FROM?U(e):K(e)}),[n,U,K,h]),ee=(0,c.useCallback)((Y=(0,o.A)((function*(e){(yield q(e))?n.push(I.u.TokenRiskReminder,{storeName:l.params.storeName,token:e,onConfirm:function(){G(e)}}):G(e)})),function(e){return Y.apply(this,arguments)}),[q,n,l.params.storeName,G]),te=(0,c.useCallback)((function(e){H(e),V({num:h===v.En.FROM?0:1,networkId:e.networkId})}),[h,V]),re=(0,c.useCallback)((function(e){return h===v.En.FROM?L?.contractAddress===e.contractAddress&&L?.networkId===e.networkId:C?.contractAddress===e.contractAddress&&C?.networkId===e.networkId}),[C?.contractAddress,C?.networkId,L?.contractAddress,L?.networkId,h]),{md:ne}=(0,u.useMedia)(),oe=(0,c.useCallback)((function({item:e,index:t}){var r,n,o=e.item?e.item:e,c=new a.A(null!=(r=o.balanceParsed)?r:0),s=new a.A(null!=(n=o.fiatValue)?n:0),i=ne?j.A.shortenAddress({address:o.contractAddress}):o.contractAddress,d={isSearch:!!R,tokenImageSrc:o.logoURI,tokenName:o.name,tokenSymbol:o.symbol,networkImageSrc:o.networkLogoURI,tokenContrastAddress:R?i:void 0,balance:c.isZero()?void 0:o.balanceParsed,valueProps:o.fiatValue&&!s.isZero()?{value:o.fiatValue,currency:z.currencyInfo.symbol}:void 0,onPress:re(o)?void 0:function(){return ee(o)},disabled:re(o),titleMatchStr:e.matches?.find((function(e){return"symbol"===e.key}))};return(0,T.jsxs)(T.Fragment,{children:[X===t?(0,T.jsx)(u.Stack,{pt:"$3",pb:"$2",children:(0,T.jsx)(u.Alert,{fullBleed:!0,type:"default",title:x.formatMessage({id:g.ETranslations.token_selector_unverified_token_warning}),icon:"InfoCircleOutline"})}):null,(0,T.jsx)(p.v,_objectSpread({},d))]})}),[X,x,ne,ee,re,R,z.currencyInfo.symbol]),ce=(0,c.useMemo)((function(){var e,t=[];return _&&_.length&&(ne?(t=_.length>O.ck?_.slice(0,O.ck):_,e=_.length-O.ck>0?_.length-O.ck:void 0):(t=_.length>O.BT?_.slice(0,O.BT):_,e=_.length-O.BT>0?_.length-O.BT:void 0)),{swapNetworksCommon:t,swapNetworksMoreCount:e}}),[ne,_]),se=(0,A.A)(),{bottom:ae}=(0,u.useSafeAreaInsets)();return(0,T.jsxs)(u.Page,{skipLoading:S.Ay.isNativeIOS,safeAreaEnabled:!1,children:[(0,T.jsx)(u.Page.Header,{title:x.formatMessage({id:g.ETranslations.token_selector_title}),headerSearchBarOptions:{placeholder:x.formatMessage({id:g.ETranslations.token_selector_search_placeholder}),onChangeText:function({nativeEvent:e}){var t=e.text.trim();M(t)}}}),(0,T.jsxs)(u.Page.Body,{children:[(0,T.jsx)(P,{onMoreNetwork:function(){se({defaultNetworkId:Z?.networkId,networkIds:_.map((function(e){return e.networkId})),onSelect:function(e){if(e){var t=_.find((function(t){return t.networkId===e.id}));t&&te(t)}}})},networks:ce.swapNetworksCommon,moreNetworksCount:ce.swapNetworksMoreCount,selectedNetwork:Z,onSelectNetwork:te}),(0,T.jsxs)(u.XStack,{px:"$5",py:"$2",children:[(0,T.jsx)(u.SizableText,{size:"$headingSm",pr:"$2",children:`${x.formatMessage({id:g.ETranslations.token_selector_network})}:`}),(0,T.jsxs)(u.XStack,{children:[(0,T.jsx)(u.Image,{height:"$5",width:"$5",borderRadius:"$full",mr:"$2",children:(0,T.jsx)(u.Image.Source,{source:{uri:Z?.logoURI}})}),(0,T.jsx)(u.SizableText,{size:"$bodyMd",children:null!=(e=null!=(t=null!=(r=Z?.name)?r:Z?.symbol)?t:Z?.shortcode)?e:"Unknown"})]})]}),J?Array.from({length:5}).map((function(e,t){return(0,T.jsxs)(f.c,{children:[(0,T.jsx)(u.Skeleton,{w:"$10",h:"$10",radius:"round"}),(0,T.jsxs)(u.YStack,{children:[(0,T.jsx)(u.YStack,{py:"$1",children:(0,T.jsx)(u.Skeleton,{h:"$4",w:"$32"})}),(0,T.jsx)(u.YStack,{py:"$1",children:(0,T.jsx)(u.Skeleton,{h:"$3",w:"$24"})})]})]},t)})):(0,T.jsx)(u.YStack,{flex:1,children:(0,T.jsx)(u.ListView,{data:Q,renderItem:oe,estimatedItemSize:60,ListFooterComponent:(0,T.jsx)(u.Stack,{h:ae||"$2"}),ListEmptyComponent:(0,T.jsx)(u.Empty,{icon:"SearchOutline",title:x.formatMessage({id:g.ETranslations.global_no_results}),description:x.formatMessage({id:g.ETranslations.token_no_search_results_desc})})})})]})]})},SwapTokenSelectPageWithProvider=function(){var e=(0,s.lq)(),{storeName:t}=e.params;return(0,T.jsx)(E.o,{storeName:t,children:(0,T.jsx)(SwapTokenSelectPage,{})})};function SwapTokenSelectModal(){return(0,T.jsx)(l.b8,{config:{sceneName:h.Zs.swap},enabledNum:[0,1],children:(0,T.jsx)(SwapTokenSelectPageWithProvider,{})})}}}]);