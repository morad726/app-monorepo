"use strict";(self.webpackChunkweb=self.webpackChunkweb||[]).push([[15696],{326745:(e,t,n)=>{n.d(t,{u:()=>useAppRoute});var s=n(724249);function useAppRoute(){return(0,s.lq)()}},664353:(e,t,n)=>{n.d(t,{o:()=>MaticLidoFAQs,p:()=>EthLidoFAQs});var s=n(514041),a=n(908867),r=n(490343),i=n(254491),o=n(831085),LidoFAQ=function({question:e,answer:t}){var[n,a]=(0,s.useState)(!1),i=(0,s.useCallback)((function(){return a((function(e){return!e}))}),[]);return(0,o.jsx)(r.YStack,{children:(0,o.jsxs)(r.YStack,{children:[(0,o.jsxs)(r.XStack,{mb:"$2",borderRadius:12,onPress:i,hoverStyle:{backgroundColor:"$bgHover"},pressStyle:{backgroundColor:"$bgHover"},py:"$2",px:"$3",children:[(0,o.jsx)(r.XStack,{flex:1,children:(0,o.jsx)(r.SizableText,{size:"$headingMd",children:e})}),(0,o.jsx)(r.XStack,{children:(0,o.jsx)(r.Icon,{name:n?"ChevronTopSmallOutline":"ChevronDownSmallOutline"})})]}),(0,o.jsx)(r.XStack,{px:"$3",children:n?(0,o.jsx)(r.SizableText,{size:"$bodyMd",pb:"$5",children:t}):null})]})})},EthLidoFAQs=function(){var e=(0,a.A)();return(0,o.jsxs)(r.YStack,{mt:"$12",children:[(0,o.jsx)(r.XStack,{mb:"$5",px:"$5",children:(0,o.jsx)(r.SizableText,{size:"$headingLg",children:e.formatMessage({id:i.ETranslations.global_faqs})})}),(0,o.jsxs)(r.YStack,{px:"$2",children:[(0,o.jsx)(LidoFAQ,{question:e.formatMessage({id:i.ETranslations.earn_how_does_the_lido_protocol_work}),answer:e.formatMessage({id:i.ETranslations.earn_how_does_the_lido_protocol_work_desc})}),(0,o.jsx)(LidoFAQ,{question:e.formatMessage({id:i.ETranslations.earn_why_do_you_receive_steth}),answer:e.formatMessage({id:i.ETranslations.earn_why_do_you_receive_steth_desc})}),(0,o.jsx)(LidoFAQ,{question:e.formatMessage({id:i.ETranslations.earn_what_is_the_possible_risk_of_lido}),answer:e.formatMessage({id:i.ETranslations.earn_what_is_the_possible_risk_of_lido_desc})})]})]})},MaticLidoFAQs=function(){var e=(0,a.A)();return(0,o.jsxs)(r.YStack,{mt:"$12",children:[(0,o.jsx)(r.XStack,{mb:"$5",px:"$5",children:(0,o.jsx)(r.SizableText,{size:"$headingLg",children:e.formatMessage({id:i.ETranslations.global_faqs})})}),(0,o.jsxs)(r.YStack,{px:"$2",children:[(0,o.jsx)(LidoFAQ,{question:e.formatMessage({id:i.ETranslations.earn_how_does_the_lido_protocol_work}),answer:e.formatMessage({id:i.ETranslations.earn_how_does_the_lido_protocol_work_desc})}),(0,o.jsx)(LidoFAQ,{question:e.formatMessage({id:i.ETranslations.earn_why_do_you_receive_stmatic}),answer:e.formatMessage({id:i.ETranslations.earn_why_do_you_receive_stmatic_desc})}),(0,o.jsx)(LidoFAQ,{question:e.formatMessage({id:i.ETranslations.earn_what_is_the_possible_risk_of_lido}),answer:e.formatMessage({id:i.ETranslations.earn_what_is_the_possible_risk_of_lido_desc})})]})]})}},168489:(e,t,n)=>{n.d(t,{BB:()=>EthStakeShouldUnderstand,U6:()=>MaticWithdrawShouldUnderstand,XU:()=>EthWithdrawShouldUnderstand,wF:()=>MaticStakeShouldUnderstand});var s=n(908867),a=n(490343),r=n(254491),i=n(827843),o=n(831085),ShouldUnderstandListItemListItem=function({title:e,description:t,index:n}){return(0,o.jsxs)(a.YStack,{children:[(0,o.jsxs)(a.XStack,{children:[(0,o.jsx)(a.Stack,{w:"$5",children:(0,o.jsxs)(a.SizableText,{children:[n,"."]})}),(0,o.jsx)(a.SizableText,{children:e})]}),(0,o.jsx)(a.XStack,{pl:"$5",children:(0,o.jsx)(a.SizableText,{children:t})})]})},ShouldUnderstand=function({title:e,subtitle:t,items:n}){return(0,o.jsx)(a.YStack,{flex:1,children:(0,o.jsx)(a.ScrollView,{maxHeight:560,children:(0,o.jsx)(a.YStack,{py:"$5",children:(0,o.jsxs)(a.Stack,{children:[(0,o.jsx)(a.Image,{w:"$14",h:"$14",src:i.a3}),(0,o.jsxs)(a.YStack,{mt:"$5",children:[(0,o.jsx)(a.SizableText,{size:"$headingXl",children:e}),t?(0,o.jsx)(a.XStack,{mt:"$5",children:(0,o.jsx)(a.SizableText,{size:"$bodyLg",children:t})}):null]}),(0,o.jsx)(a.YStack,{mt:"$5",space:"$5",children:n.map((function(e,t){return(0,o.jsx)(ShouldUnderstandListItemListItem,{index:t+1,title:e.title,description:e.description},t)}))})]})})})})},EthStakeShouldUnderstand=function({apr:e}){var t=(0,s.A)();return(0,o.jsx)(ShouldUnderstand,{title:t.formatMessage({id:r.ETranslations.earn_lido_token_staking},{token:"ETH"}),items:[{title:(0,o.jsx)(a.SizableText,{children:t.formatMessage({id:r.ETranslations.earn_earn_up_to_number_per_year},{number:(0,o.jsxs)(a.SizableText,{color:"$textInteractive",children:[e,"%"]})})}),description:t.formatMessage({id:r.ETranslations.earn_earn_up_to_number_per_year_desc})},{title:(0,o.jsx)(a.SizableText,{children:t.formatMessage({id:r.ETranslations.earn_receive_token},{token:(0,o.jsx)(a.SizableText,{color:"$textInteractive",children:"stETH"})})}),description:t.formatMessage({id:r.ETranslations.earn_receive_steth_desc})},{title:(0,o.jsx)(a.SizableText,{children:t.formatMessage({id:r.ETranslations.earn_rewards_updated_daily},{daily:(0,o.jsx)(a.SizableText,{color:"$textInteractive",children:t.formatMessage({id:r.ETranslations.earn_daily})})})}),description:t.formatMessage({id:r.ETranslations.earn_rewards_updated_daily_steth_desc})}]})},EthWithdrawShouldUnderstand=function(){var e=(0,s.A)();return(0,o.jsx)(ShouldUnderstand,{title:e.formatMessage({id:r.ETranslations.earn_lido_token_redemption},{token:"ETH"}),subtitle:e.formatMessage({id:r.ETranslations.earn_withdrawal_process_desc}),items:[{title:e.formatMessage({id:r.ETranslations.earn_request_withdrawal}),description:e.formatMessage({id:r.ETranslations.earn_request_withdrawal_steth_desc})},{title:e.formatMessage({id:r.ETranslations.earn_receive_lido_nft}),description:e.formatMessage({id:r.ETranslations.earn_receive_lido_nft_desc},{token:"ETH"})},{title:e.formatMessage({id:r.ETranslations.earn_claim}),description:e.formatMessage({id:r.ETranslations.earn_claim_token_desc},{token:"ETH"})}]})},MaticStakeShouldUnderstand=function({apr:e}){var t=(0,s.A)();return(0,o.jsx)(ShouldUnderstand,{title:t.formatMessage({id:r.ETranslations.earn_lido_token_staking},{token:"MATIC"}),items:[{title:(0,o.jsx)(a.SizableText,{children:(0,o.jsx)(a.SizableText,{children:t.formatMessage({id:r.ETranslations.earn_earn_up_to_number_per_year},{number:(0,o.jsxs)(a.SizableText,{color:"$textInteractive",children:[e,"%"]})})})}),description:t.formatMessage({id:r.ETranslations.earn_earn_up_to_number_per_year_desc})},{title:(0,o.jsx)(a.SizableText,{children:t.formatMessage({id:r.ETranslations.earn_receive_token},{token:(0,o.jsx)(a.SizableText,{color:"$textInteractive",children:"stMATIC"})})}),description:t.formatMessage({id:r.ETranslations.earn_receive_stmatic_desc})},{title:(0,o.jsx)(a.SizableText,{children:t.formatMessage({id:r.ETranslations.earn_rewards_updated_daily},{daily:(0,o.jsx)(a.SizableText,{color:"$textInteractive",children:t.formatMessage({id:r.ETranslations.earn_daily})})})}),description:t.formatMessage({id:r.ETranslations.earn_rewards_updated_daily_stmatic_desc})}]})},MaticWithdrawShouldUnderstand=function(){var e=(0,s.A)();return(0,o.jsx)(ShouldUnderstand,{title:e.formatMessage({id:r.ETranslations.earn_lido_token_redemption},{token:"MATIC"}),subtitle:e.formatMessage({id:r.ETranslations.earn_withdrawal_process_desc}),items:[{title:e.formatMessage({id:r.ETranslations.earn_request_withdrawal}),description:e.formatMessage({id:r.ETranslations.earn_request_withdrawal_stmatic_desc})},{title:e.formatMessage({id:r.ETranslations.earn_receive_lido_nft}),description:e.formatMessage({id:r.ETranslations.earn_receive_lido_nft_desc},{token:"MATIC"})},{title:e.formatMessage({id:r.ETranslations.earn_claim}),description:e.formatMessage({id:r.ETranslations.earn_claim_token_desc},{token:"MATIC"})}]})}},574687:(e,t,n)=>{n.d(t,{m:()=>NftListItemStatus});var s=n(586330),a=n(514041),r=n(908867),i=n(490343),o=n(391944),l=n(254491),d=n(831085),NftListItemStatus=function({amount:e,symbol:t,tokenImageUri:n,onClaim:c,status:u}){var h=(0,r.A)(),x=(0,a.useMemo)((function(){return{claimable:l.ETranslations.earn_token_is_claimable,pending:l.ETranslations.earn_token_is_pending,staked:l.ETranslations.earn_token_is_staked}[u]}),[u]),[m,f]=(0,a.useState)(!1),g=(0,a.useCallback)((0,s.A)((function*(){try{f(!0),yield c?.()}finally{f(!1)}})),[c]);return(0,d.jsxs)(i.XStack,{justifyContent:"space-between",children:[(0,d.jsxs)(i.XStack,{alignItems:"center",children:[(0,d.jsx)(o.o,{size:"xs",tokenImageUri:n}),(0,d.jsxs)(i.XStack,{ml:"$2",space:"$1",alignItems:"center",children:[(0,d.jsx)(i.SizableText,{size:"$bodyLg",children:h.formatMessage({id:x},{token:(0,d.jsxs)(i.SizableText,{children:[(0,d.jsx)(i.NumberSizeableText,{size:"$bodyLgMedium",formatter:"balance",children:e}),(0,d.jsxs)(i.SizableText,{size:"$bodyLgMedium",children:[" ",t]})]})})}),"pending"===u?(0,d.jsx)(i.Popover,{title:h.formatMessage({id:l.ETranslations.earn_stake_release_period}),placement:"bottom-start",renderTrigger:(0,d.jsx)(i.IconButton,{variant:"tertiary",size:"small",icon:"QuestionmarkOutline"}),renderContent:(0,d.jsx)(i.SizableText,{p:"$5",$gtMd:{size:"$bodyMd"},children:h.formatMessage({id:l.ETranslations.earn_stake_release_period_desc})})}):null]})]}),c?(0,d.jsx)(i.Button,{size:"small",variant:"primary",loading:m,onPress:g,children:h.formatMessage({id:l.ETranslations.earn_claim})}):null]})}},138584:(e,t,n)=>{n.d(t,{b:()=>PageFrame});var s=n(908867),a=n(490343),r=n(254491),i=n(831085),PageErrOccurred=function({onPress:e}){var t=(0,s.A)();return(0,i.jsx)(a.Empty,{icon:"ErrorOutline",title:t.formatMessage({id:r.ETranslations.global_an_error_occurred}),description:t.formatMessage({id:r.ETranslations.global_an_error_occurred_desc}),buttonProps:{onPress:e,children:t.formatMessage({id:r.ETranslations.global_refresh})}})},PageFrame=function({children:e,loading:t,LoadingSkeleton:n,error:s,onRefresh:a}){return t?n?(0,i.jsx)(n,{}):null:s?(0,i.jsx)(PageErrOccurred,{onPress:a}):(0,i.jsx)(i.Fragment,{children:e})}},342094:(e,t,n)=>{n.d(t,{p:()=>ProtocolIntro});var s=n(514041),a=n(908867),r=n(490343),i=n(391944),o=n(254491),l=n(117746),d=n(831085),ProtocolIntro=function({protocolLogoUrl:e,protocolText:t,externalUrl:n}){var c=(0,s.useCallback)((function(){(0,l.Dr)(n)}),[n]),u=(0,a.A)();return(0,d.jsxs)(r.YStack,{mt:"$12",children:[(0,d.jsx)(r.SizableText,{size:"$headingLg",children:u.formatMessage({id:o.ETranslations.global_info})}),(0,d.jsxs)(r.XStack,{mt:"$5",children:[(0,d.jsxs)(r.YStack,{flex:1,children:[(0,d.jsx)(r.SizableText,{color:"$textSubdued",size:"$bodyMd",mb:"$1",children:u.formatMessage({id:o.ETranslations.global_protocol})}),(0,d.jsxs)(r.XStack,{alignItems:"center",children:[(0,d.jsx)(i.o,{size:"xs",tokenImageUri:e}),(0,d.jsx)(r.SizableText,{px:"$1",size:"$bodyLgMedium"}),(0,d.jsx)(r.Button,{iconAfter:"OpenOutline",variant:"tertiary",size:"medium",color:"$text",onPress:c,children:t})]})]}),(0,d.jsxs)(r.YStack,{flex:1,children:[(0,d.jsx)(r.SizableText,{color:"$textSubdued",size:"$bodyMd",mb:"$1",children:u.formatMessage({id:o.ETranslations.global_network})}),(0,d.jsx)(r.SizableText,{size:"$bodyLgMedium",children:"Ethereum"})]})]})]})}},917523:(e,t,n)=>{n.d(t,{T:()=>StakingTransactionIndicator});var s=n(586330),a=n(514041),r=n(908867),i=n(490343),o=n(60153),l=n(498356),d=n(394764),c=n(911998),u=n(153763),h=n(254491),x=n(831085),PendingIndicator=function({num:e,onPress:t}){var n=(0,r.A)();return(0,x.jsxs)(i.Badge,{badgeType:"info",badgeSize:"lg",onPress:t,children:[(0,x.jsx)(i.Stack,{borderRadius:"$full",p:3,bg:"$borderInfo",children:(0,x.jsx)(i.Stack,{w:"$1.5",h:"$1.5",borderRadius:"$full",bg:"$iconInfo"})}),(0,x.jsx)(i.Badge.Text,{pl:"$2",children:e>1?`${e} ${n.formatMessage({id:h.ETranslations.global_pending})} `:n.formatMessage({id:h.ETranslations.global_pending})})]})},StakingActivityIndicator=function({num:e,onPress:t}){var n=(0,l.A)(),s=(0,a.useCallback)((function(){return e>0?(0,x.jsx)(PendingIndicator,{num:e,onPress:t}):(0,x.jsx)(i.IconButton,{variant:"tertiary",size:"medium",icon:"ClockTimeHistoryOutline",onPress:t})}),[e,t]);return(0,a.useEffect)((function(){n.setOptions({headerRight:s})}),[n,s,e]),null},StakingTransactionIndicator=function({accountId:e,networkId:t,stakeTag:n,onRefresh:r,onPress:i}){var{result:l,run:h}=(0,c.yk)((0,s.A)((function*(){return o.A.serviceStaking.fetchLocalStakingHistory({accountId:e,networkId:t,stakeTag:n})})),[e,t,n],{initResult:[]}),m=l.length>0,f=(0,d.Z)(m),g=(0,u.E)();return(0,a.useEffect)((function(){g&&h()}),[g,h]),(0,a.useEffect)((function(){if(m){var n=setInterval((0,s.A)((function*(){yield o.A.serviceHistory.fetchAccountHistory({accountId:e,networkId:t}),yield h()})),15e3);return function(){return clearInterval(n)}}}),[m,e,t,h]),(0,a.useEffect)((function(){!m&&f&&r?.()}),[f,m,r]),(0,x.jsx)(StakingActivityIndicator,{num:l.length,onPress:i})}},14641:(e,t,n)=>{n.d(t,{A:()=>StakingProfit});var s=n(908867),a=n(490343),r=n(391944),i=n(254491),o=n(831085),ProfitContentItem=function({title:e,value:t}){return(0,o.jsxs)(a.YStack,{$md:{width:"50%"},$gtMd:{width:"25%"},mb:"$2",children:[(0,o.jsx)(a.SizableText,{size:"$bodyMd",color:"$textSubdued",children:e}),(0,o.jsxs)(a.SizableText,{size:"$bodyLgMedium",color:"$textInteractive",children:[Number(t).toFixed(2),"%"]})]})},StakingProfit=function({apr:e,tokenImageUrl:t,tokenSymbol:n}){var l=(0,s.A)();return(0,o.jsxs)(a.YStack,{mt:"$12",children:[(0,o.jsx)(a.SizableText,{size:"$headingLg",children:l.formatMessage({id:i.ETranslations.global_profit})}),(0,o.jsxs)(a.XStack,{mt:"$5",space:"$1",children:[(0,o.jsx)(r.o,{size:"sm",tokenImageUri:t}),(0,o.jsx)(a.SizableText,{size:"$bodyLgMedium",children:n.toUpperCase()}),(0,o.jsx)(a.Badge,{badgeType:"default",badgeSize:"sm",children:l.formatMessage({id:i.ETranslations.earn_updated_daily})})]}),(0,o.jsxs)(a.Stack,{mt:"$5",flexDirection:"row",flexWrap:"wrap",children:[(0,o.jsx)(ProfitContentItem,{value:e/365,title:l.formatMessage({id:i.ETranslations.earn_daily})}),(0,o.jsx)(ProfitContentItem,{value:e/52,title:l.formatMessage({id:i.ETranslations.earn_weekly})}),(0,o.jsx)(ProfitContentItem,{value:e/12,title:l.formatMessage({id:i.ETranslations.earn_monthly})}),(0,o.jsx)(ProfitContentItem,{value:e,title:l.formatMessage({id:i.ETranslations.earn_annually})})]})]})}},592286:(e,t,n)=>{n.d(t,{b:()=>OverviewSkeleton,u:()=>HistorySkeleton});var s=n(490343),a=n(831085),HistorySkeletonItem=function(){return(0,a.jsxs)(s.XStack,{justifyContent:"space-between",children:[(0,a.jsxs)(s.XStack,{children:[(0,a.jsx)(s.Skeleton,{width:40,height:40}),(0,a.jsxs)(s.YStack,{pl:"$2",justifyContent:"space-around",children:[(0,a.jsx)(s.Skeleton,{height:12,width:60}),(0,a.jsx)(s.Skeleton,{height:12,width:50})]})]}),(0,a.jsxs)(s.YStack,{pl:"$2",justifyContent:"space-around",alignItems:"flex-end",children:[(0,a.jsx)(s.Skeleton,{height:12,width:60}),(0,a.jsx)(s.Skeleton,{height:12,width:50})]})]})},HistorySkeleton=function(){return(0,a.jsxs)(s.YStack,{width:"100%",px:"$5",space:"$5",children:[(0,a.jsx)(HistorySkeletonItem,{}),(0,a.jsx)(HistorySkeletonItem,{}),(0,a.jsx)(HistorySkeletonItem,{})]})},OverviewSkeletonItem=function(){return(0,a.jsxs)(s.YStack,{$md:{width:"50%"},$gtMd:{width:"25%"},mb:"$2",children:[(0,a.jsx)(s.Skeleton,{width:48,height:12}),(0,a.jsx)(s.Stack,{h:"$1"}),(0,a.jsx)(s.Skeleton,{width:100,height:12})]})},OverviewSkeleton=function(){return(0,a.jsxs)(s.Stack,{px:"$5",children:[(0,a.jsxs)(s.YStack,{children:[(0,a.jsx)(s.Skeleton,{width:100,height:16}),(0,a.jsx)(s.Stack,{h:"$4"}),(0,a.jsx)(s.Skeleton,{width:160,height:28}),(0,a.jsx)(s.Stack,{h:"$7"}),(0,a.jsx)(s.Skeleton,{width:120,height:12})]}),(0,a.jsxs)(s.YStack,{mt:"$16",children:[(0,a.jsx)(s.Skeleton,{width:60,height:12}),(0,a.jsxs)(s.XStack,{mt:"$5",children:[(0,a.jsxs)(s.YStack,{flex:1,children:[(0,a.jsx)(s.Skeleton,{width:48,height:12}),(0,a.jsx)(s.Stack,{h:"$1"}),(0,a.jsx)(s.Skeleton,{width:100,height:12})]}),(0,a.jsxs)(s.YStack,{flex:1,children:[(0,a.jsx)(s.Skeleton,{width:48,height:12}),(0,a.jsx)(s.Stack,{h:"$1"}),(0,a.jsx)(s.Skeleton,{width:100,height:12})]})]})]}),(0,a.jsxs)(s.Stack,{mt:"$16",flexDirection:"row",flexWrap:"wrap",children:[(0,a.jsx)(OverviewSkeletonItem,{}),(0,a.jsx)(OverviewSkeletonItem,{}),(0,a.jsx)(OverviewSkeletonItem,{}),(0,a.jsx)(OverviewSkeletonItem,{})]}),(0,a.jsxs)(s.Stack,{mt:"$16",children:[(0,a.jsx)(s.Skeleton,{width:60,height:12}),(0,a.jsxs)(s.YStack,{space:"$5",mt:"$5",children:[(0,a.jsx)(s.Skeleton,{width:280,height:12}),(0,a.jsx)(s.Skeleton,{width:280,height:12}),(0,a.jsx)(s.Skeleton,{width:280,height:12})]})]})]})}},440905:(e,t,n)=>{n.d(t,{IM:()=>useLidoClaim,Ow:()=>useLidoWithdraw,cx:()=>useLidoStake});var s=n(324586),a=n(586330),r=n(514041),i=n(60153),o=n(927799),l=n(714191),d=n(161024);function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){(0,s.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function useLidoStake({networkId:e,accountId:t}){var n,{navigationToSendConfirm:s}=(0,o.E)({accountId:t,networkId:e});return(0,r.useCallback)((n=(0,a.A)((function*({amount:n,stakingInfo:a,onSuccess:r,onFail:o}){var l=yield i.A.serviceAccount.getAccount({accountId:t,networkId:e}),d=yield i.A.serviceStaking.buildLidoEthStakingTransaction({amount:n,networkId:e});yield s({encodedTx:_objectSpread(_objectSpread({},d),{},{from:l.address}),stakingInfo:a,onSuccess:r,onFail:o})})),function(e){return n.apply(this,arguments)}),[s,t,e])}function useLidoWithdraw({networkId:e,accountId:t}){var n,{navigationToSendConfirm:s}=(0,o.E)({accountId:t,networkId:e});return(0,r.useCallback)((n=(0,a.A)((function*({amount:n,stakingInfo:a,onSuccess:r,onFail:o}){var c=yield i.A.serviceAccount.getAccount({accountId:t,networkId:e}),{message:u,deadline:h}=yield i.A.serviceStaking.buildLidoEthPermitMessage({accountId:t,networkId:e,amount:n}),x=yield i.A.serviceDApp.openSignMessageModal({accountId:t,networkId:e,request:{origin:"https://lido.fi/",scope:"ethereum"},unsignedMessage:{type:d.$.TYPED_DATA_V4,message:u,payload:[c.address,u]},sceneName:l.Zs.home}),m=yield i.A.serviceStaking.buildLidoEthWithdrawalTransaction({amount:n,signature:x,networkId:e,accountId:t,deadline:h});yield s({encodedTx:_objectSpread(_objectSpread({},m),{},{from:c.address}),stakingInfo:a,onSuccess:r,onFail:o})})),function(e){return n.apply(this,arguments)}),[t,e,s])}function useLidoClaim({networkId:e,accountId:t}){var n,{navigationToSendConfirm:s}=(0,o.E)({accountId:t,networkId:e});return(0,r.useCallback)((n=(0,a.A)((function*({requestIds:n,stakingInfo:a,onSuccess:r,onFail:o}){var l=yield i.A.serviceAccount.getAccount({accountId:t,networkId:e}),d=yield i.A.serviceStaking.buildLidoEthClaimTransaction({requestIds:n,networkId:e});yield s({encodedTx:_objectSpread(_objectSpread({},d),{},{from:l.address}),stakingInfo:a,onSuccess:r,onFail:o})})),function(e){return n.apply(this,arguments)}),[s,t,e])}},615696:(e,t,n)=>{n.r(t),n.d(t,{default:()=>__WEBPACK_DEFAULT_EXPORT__});var s=n(586330),a=n(514041),r=n(241440),i=n(908867),o=n(490343),l=n(60153),d=n(498356),c=n(326745),u=n(911998),h=n(604343),x=n(254491),m=n(757559),f=n(550082),g=n(664353),_=n(168489),k=n(574687),j=n(138584),p=n(342094),b=n(917523),S=n(14641),T=n(592286),w=n(440905),y=n(827843),$=n(831085),ListItemPending=function({requests:e}){var t=(0,a.useMemo)((function(){return e.reduce((function(e,t){return e+Number(t.amountOfStETH)}),0)}),[e]);return 0===e.length?null:(0,$.jsx)(k.m,{symbol:"ETH",status:"pending",tokenImageUri:y.Cp,amount:String(t)})},ListItemStaked=function({amount:e}){return(0,$.jsx)(k.m,{amount:e,symbol:"ETH",status:"staked",tokenImageUri:y.Cp})},ListItemClaim=function({requests:e,accountId:t,networkId:n,token:r}){var i=(0,a.useMemo)((function(){return e.map((function(e){return e.id}))}),[e]),o=(0,a.useMemo)((function(){return e.reduce((function(e,t){return e+Number(t.amountOfStETH)}),0)}),[e]),l=(0,w.IM)({accountId:t,networkId:n}),d=(0,a.useCallback)((0,s.A)((function*(){yield l({requestIds:i,stakingInfo:{label:f.Z.Claim,protocol:"lido",tags:["lido-eth"],receive:{token:r.info,amount:String(o)}}})})),[l,i,r.info,o]);return 0===e.length?null:(0,$.jsx)(k.m,{onClaim:d,symbol:"ETH",status:"claimable",tokenImageUri:y.Cp,amount:String(o)})},EthLidoOverviewContent=function({accountId:e,networkId:t,overview:n,apr:l=4,onRefresh:c}){var{eth:u,stETH:f,requests:k,minTransactionFee:j}=n,T=(0,d.A)(),w=(0,i.A)(),v=(0,a.useCallback)((0,s.A)((function*(){o.Dialog.show({renderContent:(0,$.jsx)(_.BB,{apr:l}),onConfirm:function(){T.push(m.Ax.EthLidoStake,{accountId:e,networkId:t,balance:u.balanceParsed,price:u.price,token:u.info,stToken:f.info,minTransactionFee:j,apr:l})},onConfirmText:w.formatMessage({id:x.ETranslations.global_got_it}),showCancelButton:!1})})),[T,e,t,u,l,f,w,j]),E=(0,a.useCallback)((0,s.A)((function*(){o.Dialog.show({renderContent:(0,$.jsx)(_.XU,{}),showCancelButton:!1,onConfirmText:w.formatMessage({id:x.ETranslations.global_got_it}),onConfirm:function(){T.push(m.Ax.EthLidoWithdraw,{accountId:e,networkId:t,balance:f.balanceParsed,price:f.price,token:f.info,receivingToken:u.info})}})})),[e,t,T,f,u,w]),M=(0,a.useMemo)((function(){return new r.A(f.balanceParsed).gt(0)}),[f.balanceParsed]),I=(0,a.useMemo)((function(){return(0,r.A)(f.balanceParsed).multipliedBy(f.price).toFixed()}),[f]),z=(0,a.useMemo)((function(){return{pending:k.filter((function(e){return!e.isFinalized})),finished:k.filter((function(e){return e.isFinalized&&!e.isClaimed}))}}),[k]),[{currencyInfo:{symbol:A}}]=(0,h.useSettingsPersistAtom)();return(0,$.jsxs)(o.Stack,{children:[(0,$.jsxs)(o.YStack,{px:"$5",pt:"$5",children:[(0,$.jsx)(o.SizableText,{size:"$headingLg",children:w.formatMessage({id:x.ETranslations.earn_staked_value})}),(0,$.jsx)(o.NumberSizeableText,{size:"$heading3xl",formatter:"value",formatterOptions:{currency:A},children:I}),(0,$.jsx)(o.XStack,{mt:"$2",space:"$1",alignItems:"center",children:(0,$.jsx)(o.SizableText,{size:"$bodyMd",color:"$textSubdued",children:w.formatMessage({id:x.ETranslations.earn_token_available_to_stake},{token:(0,$.jsxs)(o.SizableText,{children:[(0,$.jsx)(o.NumberSizeableText,{size:"$bodyMd",formatter:"balance",children:u.balanceParsed}),(0,$.jsxs)(o.SizableText,{size:"$bodyMd",color:"$textSubdued",children:[" ",u.info.symbol]})]})})})}),(0,$.jsxs)(o.YStack,{space:"$2",mt:"$5",children:[(0,$.jsx)(ListItemStaked,{amount:f.balanceParsed}),(0,$.jsx)(ListItemPending,{requests:z.pending}),(0,$.jsx)(ListItemClaim,{accountId:e,networkId:t,requests:z.finished,token:u})]}),(0,$.jsx)(p.p,{protocolText:"Lido",protocolLogoUrl:y.a3,externalUrl:y.$e}),(0,$.jsx)(S.A,{apr:l,tokenImageUrl:u.info.logoURI,tokenSymbol:u.info.symbol})]}),(0,$.jsx)(o.Stack,{children:(0,$.jsx)(g.p,{})}),(0,$.jsx)(o.Page.Footer,{onConfirmText:w.formatMessage({id:x.ETranslations.earn_stake}),confirmButtonProps:{variant:"primary",onPress:v},onCancelText:w.formatMessage({id:x.ETranslations.earn_redeem}),cancelButtonProps:M?{onPress:E}:void 0}),(0,$.jsx)(b.T,{accountId:e,networkId:t,stakeTag:"lido-eth",onRefresh:c,onPress:function(){T.push(m.Ax.EthLidoHistory,{accountId:e,networkId:t})}})]})};const __WEBPACK_DEFAULT_EXPORT__=function(){var e=(0,c.u)(),{accountId:t,networkId:n}=e.params,{result:a,isLoading:r,run:d}=(0,u.yk)((0,s.A)((function*(){var e=l.A.serviceStaking.fetchLidoEthOverview({accountId:t,networkId:n}),s=l.A.serviceStaking.getApr("eth"),[a,r]=yield Promise.all([e,s]);return{overview:a,apr:r}})),[t,n],{watchLoading:!0}),h=(0,i.A)();return(0,$.jsxs)(o.Page,{scrollEnabled:!0,children:[(0,$.jsx)(o.Page.Header,{title:h.formatMessage({id:x.ETranslations.earn_stake_token},{token:"ETH"})}),(0,$.jsx)(o.Page.Body,{children:(0,$.jsx)(j.b,{LoadingSkeleton:T.b,loading:Boolean(void 0===a&&!0===r),error:Boolean(void 0===a&&!1===r),onRefresh:d,children:a?(0,$.jsx)(EthLidoOverviewContent,{overview:a.overview,apr:a.apr.find((function(e){return"lido"===e.protocol}))?.apr,networkId:n,accountId:t,onRefresh:d}):null})})]})}},827843:(e,t,n)=>{n.d(t,{$e:()=>i,Cp:()=>a,LN:()=>r,a3:()=>s});var s="https://uni.onekey-asset.com/static/logo/Lido.png",a="https://uni.onekey-asset.com/static/chain/eth.png",r="https://uni.onekey-asset.com/static/chain/polygon.png",i="https://lido.fi/"},550082:(e,t,n)=>{n.d(t,{Z:()=>s});var s=function(e){return e.Stake="Stake",e.Claim="Claim",e.Redeem="Redeem",e}({})}}]);