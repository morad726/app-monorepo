"use strict";(self.webpackChunkweb=self.webpackChunkweb||[]).push([[93186],{326745:(e,t,n)=>{n.d(t,{u:()=>useAppRoute});var o=n(724249);function useAppRoute(){return(0,o.lq)()}},918778:(e,t,n)=>{n.d(t,{Kb:()=>useLidoMaticStake,Yv:()=>useLidoMaticClaim,ws:()=>useLidoMaticWithdraw});var o=n(324586),a=n(586330),i=n(514041),r=n(60153),c=n(927799);function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){(0,o.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function useLidoMaticStake({accountId:e,networkId:t}){var n,{navigationToSendConfirm:o}=(0,c.E)({accountId:e,networkId:t});return(0,i.useCallback)((n=(0,a.A)((function*({amount:n,stakingInfo:a,onSuccess:i,onFail:c}){var s=yield r.A.serviceAccount.getAccount({accountId:e,networkId:t}),d=yield r.A.serviceStaking.buildLidoMaticStakingTransaction({amount:n,networkId:t});yield o({encodedTx:_objectSpread(_objectSpread({},d),{},{from:s.address}),stakingInfo:a,onSuccess:i,onFail:c})})),function(e){return n.apply(this,arguments)}),[o,e,t])}function useLidoMaticWithdraw({accountId:e,networkId:t}){var n,{navigationToSendConfirm:o}=(0,c.E)({accountId:e,networkId:t});return(0,i.useCallback)((n=(0,a.A)((function*({amount:n,stakingInfo:a,onSuccess:i,onFail:c}){var s=yield r.A.serviceAccount.getAccount({accountId:e,networkId:t}),d=yield r.A.serviceStaking.buildLidoMaticWithdrawalTransaction({amount:n,networkId:t});yield o({encodedTx:_objectSpread(_objectSpread({},d),{},{from:s.address}),stakingInfo:a,onSuccess:i,onFail:c})})),function(e){return n.apply(this,arguments)}),[e,t,o])}function useLidoMaticClaim({accountId:e,networkId:t}){var n,{navigationToSendConfirm:o}=(0,c.E)({accountId:e,networkId:t});return(0,i.useCallback)((n=(0,a.A)((function*({tokenId:n,stakingInfo:a,onSuccess:i,onFail:c}){var s=yield r.A.serviceAccount.getAccount({accountId:e,networkId:t}),d=yield r.A.serviceStaking.buildLidoMaticClaimTransaction({tokenId:n,networkId:t});yield o({encodedTx:_objectSpread(_objectSpread({},d),{},{from:s.address}),stakingInfo:a,onSuccess:i,onFail:c})})),function(e){return n.apply(this,arguments)}),[o,e,t])}},993186:(e,t,n)=>{n.r(t),n.d(t,{default:()=>__WEBPACK_DEFAULT_EXPORT__});var o=n(586330),a=n(514041),i=n(908867),r=n(490343),c=n(791088),s=n(326745),d=n(254491),u=n(550082),l=n(918778),k=n(827843),p=n(831085),LidoMaticClaimItem=function({item:e,networkId:t,accountId:n,token:s}){var f=(0,l.Yv)({accountId:n,networkId:t}),[m,I]=(0,a.useState)(!1),g=(0,i.A)();return(0,p.jsx)(c.c,{avatarProps:{src:k.LN,size:32},title:`${e.amount} MATIC`,children:(0,p.jsx)(r.Button,{variant:"primary",size:"small",loading:m,onPress:(0,o.A)((function*(){try{I(!0),yield f({tokenId:e.id,stakingInfo:{label:u.Z.Claim,protocol:"lido",tags:["lido-matic"],receive:{token:s,amount:String(e.amount)}}})}finally{I(!1)}})),children:g.formatMessage({id:d.ETranslations.earn_claim})})})};const __WEBPACK_DEFAULT_EXPORT__=function(){var e=(0,s.u)(),{accountId:t,networkId:n,requests:o,token:c}=e.params,u=(0,a.useCallback)((function({item:e}){return(0,p.jsx)(LidoMaticClaimItem,{accountId:t,networkId:n,item:e,token:c})}),[c,t,n]),l=(0,i.A)();return(0,p.jsxs)(r.Page,{children:[(0,p.jsx)(r.Page.Header,{title:l.formatMessage({id:d.ETranslations.earn_claim})}),(0,p.jsx)(r.Page.Body,{children:(0,p.jsx)(r.ListView,{estimatedItemSize:"$5",data:o,renderItem:u,ListFooterComponent:(0,p.jsx)(r.Stack,{px:"$5",children:(0,p.jsx)(r.SizableText,{size:"$bodySm",color:"$textSubdued",children:l.formatMessage({id:d.ETranslations.earn_claim_limitations})})})})})]})}},827843:(e,t,n)=>{n.d(t,{$e:()=>r,Cp:()=>a,LN:()=>i,a3:()=>o});var o="https://uni.onekey-asset.com/static/logo/Lido.png",a="https://uni.onekey-asset.com/static/chain/eth.png",i="https://uni.onekey-asset.com/static/chain/polygon.png",r="https://lido.fi/"},550082:(e,t,n)=>{n.d(t,{Z:()=>o});var o=function(e){return e.Stake="Stake",e.Claim="Claim",e.Redeem="Redeem",e}({})}}]);