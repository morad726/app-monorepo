"use strict";(self.webpackChunkweb=self.webpackChunkweb||[]).push([[7057],{607057:(e,t,n)=>{n.r(t),n.d(t,{default:()=>components_LastActivityTracker});var s=n(514041),r=n(735567),u=n(60153);var c=n(604343),a=n(676353),i=n(726130),o=n(213644),f=(n(663522),n(884894));const components_LastActivityTracker=function(){var[{enableSystemIdleLock:e,appLockDuration:t}]=(0,c.usePasswordPersistAtom)(),[n]=(0,c.useSettingsPersistAtom)(),[l]=(0,c.useDevSettingsPersistAtom)(),[{unLock:p}]=(0,c.usePasswordAtom)(),[v]=(0,c.useSystemIdleLockSupport)(),d=(0,s.useRef)(n.instanceId);(0,s.useEffect)((function(){a.z.init({instanceId:d.current,baseURL:(0,i.n_)({serviceName:f.D.Utility,env:l.settings?.enableTestEndpoint?"test":"prod"})}),o.U.app.page.appStart()}),[l.settings?.enableTestEndpoint]);var k=(0,s.useCallback)((function(){"active"===r.A.currentState&&u.A.serviceSetting.refreshLastActivity().catch((function(){}))}),[]),b=(0,s.useCallback)((function(e){"idle"!==e&&"locked"!==e||u.A.servicePassword.lockApp()}),[]);return function useInterval(e,t){var n=(0,s.useRef)(e);(0,s.useEffect)((function(){n.current=e}),[e]),(0,s.useEffect)((function(){if(t||0===t){var e=setInterval((function(){return n.current()}),t);return function(){return clearInterval(e)}}}),[t])}(k,5e3),(0,s.useEffect)(k,[]),(0,s.useEffect)((function(){}),[t,e,b,v,p]),null}}}]);