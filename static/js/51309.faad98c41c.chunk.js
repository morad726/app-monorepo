"use strict";(self.webpackChunkweb=self.webpackChunkweb||[]).push([[51309],{186069:(e,t,n)=>{n.d(t,{Y:()=>useCopyAccountAddress});var r=n(586330),o=n(514041),s=n(490343),a=n(757559),c=n(491180),i=n(60153),d=n(498356),useCopyAccountAddress=function(){var e,t=(0,d.A)(),{copyText:n}=(0,s.useClipboard)();return(0,o.useCallback)((e=(0,r.A)((function*({accountId:e,networkId:r,deriveType:o}){if(c.A.isHwAccount({accountId:e})||c.A.isQrAccount({accountId:e})){var s=yield i.A.serviceNetwork.getDeriveInfoOfNetwork({networkId:r,deriveType:o}),d=c.A.getWalletIdFromAccountId({accountId:e});t.pushModal(a.ry.ReceiveModal,{screen:a.MD.ReceiveToken,params:{networkId:r,accountId:e,walletId:d,deriveInfo:s,deriveType:o}})}else{var u=yield i.A.serviceAccount.getAccount({accountId:e,networkId:r});n(u.address)}})),function(t){return e.apply(this,arguments)}),[t,n])}},723110:(e,t,n)=>{n.d(t,{j:()=>useFuseSearch});var r=n(324586),o=n(514041),s=n(22937);function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var a=["evm","dot","cosmos"],useFuseSearch=function(e){var t=(0,o.useMemo)((function(){return{fuse:(0,s.pl)(e,{keys:["name","impl","symbol","shortname"]}),symbolSet:new Set(e.map((function(e){return e.symbol.toLowerCase()}))),shortnameSet:new Set(e.map((function(e){return e.shortname.toLowerCase()})))}}),[e]);return(0,o.useCallback)((function(e){var n=e.toLowerCase(),{fuse:r,symbolSet:o,shortnameSet:s}=t,c={$or:[{name:`^${e}`},{name:`'${e}`}]};return a.includes(n)&&c.$or?.push({impl:`=${n}`}),o.has(n)&&c.$or?.push({symbol:`=${n}`}),s.has(n)&&c.$or?.push({shortname:`=${n}`}),r.search(c).map((function(e){return _objectSpread(_objectSpread({},e.item),{},{titleMatch:e.matches?.find((function(e){return"name"===e.key}))})}))}),[t])}},51309:(e,t,n)=>{n.r(t),n.d(t,{default:()=>WalletAddressPage});var r=n(586330),o=n(514041),s=n(908867),a=n(490343),c=n(60153),i=n(791088),d=n(880590),u=n(498356),l=n(186069),m=n(911998),f=n(723110),p=n(848312),I=n(254491),A=n(757559),y=n(491180),w=n(359395),k=n(831085),v=(0,o.createContext)({networkAccountMap:{},networkDeriveTypeMap:{},accountId:"",indexedAccountId:"",refreshLocalData:function(){}}),WalletAddressDeriveTypeItem=function({item:e}){var t=(0,u.A)(),n=(0,s.A)(),{indexedAccountId:r}=(0,o.useContext)(v),{result:l,run:f}=(0,m.yk)((function(){return c.A.serviceAccount.getNetworkAccountsInSameIndexedAccountIdWithDeriveTypes({networkId:e.id,indexedAccountId:r})}),[e.id,r]),p=(0,o.useCallback)((function(){t.push(A.Wj.DeriveTypesAddress,{networkId:e.id,indexedAccountId:r,onUnmounted:f,actionType:w.rI.Copy})}),[t,r,e.id,f]),y=(0,o.useMemo)((function(){var e=n.formatMessage({id:I.ETranslations.copy_address_modal_item_create_address_instruction}),t=l?l.networkAccounts.filter((function(e){return e.account})).length:0;return t>0&&(e=n.formatMessage({id:I.ETranslations.global_count_addresses},{count:t})),e}),[n,l]);return(0,k.jsx)(i.c,{title:e.name,subtitle:y,onPress:p,renderAvatar:(0,k.jsx)(d.vD,{logoURI:e.logoURI,size:"$10"}),children:(0,k.jsx)(a.Icon,{name:"ChevronRightOutline",color:"$iconSubdued"})})},WalletAddressListItemIcon=function({account:e}){var t;return e?e&&e.address&&(t="Copy3Outline"):t="PlusLargeOutline",t?(0,k.jsx)(a.Icon,{name:e?"Copy3Outline":"PlusLargeOutline",color:"$iconSubdued"}):null},WalletAddressListItem=function({item:e}){var t=(0,s.A)(),[n,u]=(0,o.useState)(!1),m=(0,l.Y)(),{networkAccountMap:f,networkDeriveTypeMap:A,indexedAccountId:w,refreshLocalData:h}=(0,o.useContext)(v),b=A[e.id]||"default",x=f[e.id],g=x?y.A.shortenAddress({address:x.address}):t.formatMessage({id:I.ETranslations.copy_address_modal_item_create_address_instruction}),j=(0,o.useCallback)((0,r.A)((function*(){if(x)x&&x.address&&(yield m({accountId:x.id,networkId:e.id,deriveType:b}));else try{u(!0);var{walletId:n}=y.A.parseIndexedAccountId({indexedAccountId:w});yield c.A.serviceAccount.addHDOrHWAccounts({walletId:n,indexedAccountId:w,deriveType:b,networkId:e.id}),a.Toast.success({title:t.formatMessage({id:I.ETranslations.swap_page_toast_address_generated})}),h()}finally{u(!1)}})),[x,w,b,e.id,h,t,m]);return e.id===(0,p.V$)().btc?(0,k.jsx)(WalletAddressDeriveTypeItem,{item:e}):(0,k.jsx)(i.c,{title:e.name,subtitle:g,renderAvatar:(0,k.jsx)(d.vD,{logoURI:e.logoURI,size:"$10"}),onPress:j,disabled:n,children:n?(0,k.jsx)(a.Stack,{p:"$0.5",children:(0,k.jsx)(a.Spinner,{})}):(0,k.jsx)(WalletAddressListItemIcon,{account:x})})},WalletAddressContent=function({mainnetItems:e,testnetItems:t,frequentlyUsedNetworks:n}){var r=(0,s.A)(),[c,i]=(0,o.useState)(""),{bottom:d}=(0,a.useSafeAreaInsets)(),u=(0,f.j)(e),l=(0,o.useMemo)((function(){var o=c.trim();if(o){var s=u(o);return 0===s.length?[]:[{data:s}]}var a=e.reduce((function(e,t){var n=t.name[0].toUpperCase();return e[n]||(e[n]=[]),e[n].push(t),e}),{}),i=Object.entries(a).map((function([e,t]){return{title:e,data:t}})).sort((function(e,t){return e.title.charCodeAt(0)-t.title.charCodeAt(0)})),d=[{data:n},...i];return t.length>0&&d.push({title:r.formatMessage({id:I.ETranslations.global_testnet}),data:t}),d}),[e,n,c,t,r,u]),m=(0,o.useCallback)((function(e){return e?.section?.title?(0,k.jsx)(a.SectionList.SectionHeader,{title:e?.section?.title}):(0,k.jsx)(a.Stack,{h:"$3"})}),[]),p=(0,o.useCallback)((function({item:e}){return(0,k.jsx)(WalletAddressListItem,{item:e})}),[]);return(0,k.jsxs)(a.Stack,{flex:1,children:[(0,k.jsx)(a.Stack,{px:"$5",children:(0,k.jsx)(a.SearchBar,{placeholder:r.formatMessage({id:I.ETranslations.form_search_network_placeholder}),value:c,onChangeText:function(e){return i(e)}})}),(0,k.jsx)(a.SectionList,{stickySectionHeadersEnabled:!0,sections:l,renderSectionHeader:m,renderItem:p,ListEmptyComponent:(0,k.jsx)(a.Empty,{icon:"SearchOutline",title:r.formatMessage({id:I.ETranslations.global_no_results})}),ListFooterComponent:(0,k.jsx)(a.Stack,{h:d||"$3"})})]})},WalletAddress=function({mainnetItems:e,testnetItems:t,frequentlyUsedNetworks:n}){var r=(0,s.A)();return(0,k.jsxs)(a.Page,{safeAreaEnabled:!1,children:[(0,k.jsx)(a.Page.Header,{title:r.formatMessage({id:I.ETranslations.copy_address_modal_title})}),(0,k.jsx)(a.Page.Body,{children:(0,k.jsx)(WalletAddressContent,{testnetItems:t,mainnetItems:e,frequentlyUsedNetworks:n})})]})};function WalletAddressPage({route:e}){var{accountId:t,indexedAccountId:n}=e.params,{result:s,run:a}=(0,m.yk)((0,r.A)((function*(){var e=yield c.A.serviceNetwork.getChainSelectorNetworksCompatibleWithAccountId({accountId:t,compatibleWithDeviceType:!0}),r=Array.from(new Set([...e.mainnetItems,...e.testnetItems,...e.frequentlyUsedItems].map((function(e){return e.id}))));return{networksAccount:yield c.A.serviceAccount.getNetworkAccountsInSameIndexedAccountId({networkIds:r,indexedAccountId:n}),networks:e}})),[t,n],{initResult:{networksAccount:[],networks:{mainnetItems:[],testnetItems:[],unavailableItems:[],frequentlyUsedItems:[]}}}),i=(0,o.useMemo)((function(){for(var e={},r={},o=0;o<s.networksAccount.length;o+=1){var c=s.networksAccount[o],{network:i,account:d,accountDeriveType:u}=c;d&&(e[i.id]=d),r[i.id]=u}return{networkAccountMap:e,networkDeriveTypeMap:r,accountId:t,indexedAccountId:n,refreshLocalData:a}}),[s.networksAccount,n,t,a]);return(0,k.jsx)(v.Provider,{value:i,children:(0,k.jsx)(WalletAddress,{testnetItems:s.networks.testnetItems,mainnetItems:s.networks.mainnetItems,frequentlyUsedNetworks:s.networks.frequentlyUsedItems})})}}}]);